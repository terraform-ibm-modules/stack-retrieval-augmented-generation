{
  "products": [
    {
      "label": "[Add-ons Beta] Retrieval Augmented Generation (RAG) Pattern",
      "name": "testing-Retrieval_Augmented_Generation_Pattern",
      "product_kind": "solution",
      "tags": [
        "watson",
        "banking",
        "ibm_created",
        "experimental"
      ],
      "keywords": [
        "rag",
        "watson",
        "ai",
        "compliance",
        "fscloud",
        "genai",
        "sample",
        "ibmcloud",
        "financial services",
        "watsonx",
        "llm",
        "retrieval augmented generation",
        "secure",
        "secret manager",
        "key protect",
        "scc"
      ],
      "short_description": "Automate RAG deployment with supporting IBM Cloud and watsonx services, embed your enterprise data in generative AI solutions.",
      "long_description": "Looking for the released version? Go [here](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/Retrieval_Augmented_Generation_Pattern-5fdd0045-30fc-4013-a8bc-6db9d5447a52-global). Stay here if you want to try an experimental version with upcoming features. \n\n Utilize data from your enterprise to achieve productivity gains in activities related to question/answer conversations, content search, summarization and generation. RAG can be deployed in multiple configurations and is applicable to various industry use cases and solutions.\n\nThis deployable architecture provides a comprehensive foundation for trust, observability, security, and regulatory compliance by configuring and deploying various services and a sample application for a [RAG pattern](https://cloud.ibm.com/docs/pattern-genai-rag?topic=pattern-genai-rag-genai-pattern), including:\n- Configuring IBM Cloud Account with best practices from [IBM Cloud Framework for Financial Services](https://cloud.ibm.com/docs/framework-financial-services?topic=framework-financial-services-about)\n- Deploying key and secrets management services for storage and management of encryption keys and secrets\n- Deploying controls for continuous compliance\n- Deploying observability services for application and platform logging and monitoring\n- Deploying a suite of watsonx services to provide generative AI RAG capabilities\n- Deploying content databases for storing vector embeddings of the documents and content search/retrieval\n- Deploying a sample application in a variety of run times including CI/CD/CC pipelines for secure application lifecycle management\n\nThe above configured and deployed services enable a secure and trustworthy deployment of generative AI applications on IBM Cloud.\n\nThe configurations are flexible and be changed to meet the needs for several types of RAG patterns depending on the chosen combination of technologies and services.\n\nThe generative AI RAG pattern services include:\n- [watsonx.ai](https://dataplatform.cloud.ibm.com/docs/content/wsj/getting-started/welcome-main.html?context=wx)\n- [watsonx.data](https://cloud.ibm.com/docs/watsonxdata) (with Milvus)\n- [watsonx.governance](https://dataplatform.cloud.ibm.com/docs/content/svc-welcome/aiopenscale.html?context=wx)\n- [watsonx Assistant](https://cloud.ibm.com/docs/watson-assistant?topic=watson-assistant-welcome-new-assistant)\n- [watsonx Orchestrate](https://www.ibm.com/docs/en/watsonx/watson-orchestrate/current)\n- [Watson Discovery](https://cloud.ibm.com/docs/discovery-data)\n- [Elasticsearch](https://cloud.ibm.com/docs/databases-for-elasticsearch) Enterprise and Platinum edition\n\nThe supporting services include:\n- [Secrets Manager](https://cloud.ibm.com/docs/secrets-manager)\n- [Key Protect](https://cloud.ibm.com/docs/key-protect)\n- [Security and Compliance Center](https://cloud.ibm.com/docs/security-compliance)\n- [Event Notifications](https://cloud.ibm.com/docs/event-notifications?topic=event-notifications-getting-started)\n- [Logs](https://cloud.ibm.com/docs/cloud-logs)\n- [Monitoring](https://cloud.ibm.com/docs/monitoring?topic=monitoring-getting-started)\n- [Object Storage](https://cloud.ibm.com/docs/cloud-object-storage?topic=cloud-object-storage-getting-started-cloud-object-storage)\n- [Continuous Delivery](https://cloud.ibm.com/docs/ContinuousDelivery) toolchains\n- [Container Registry](https://cloud.ibm.com/docs/Registry)\n\nA [sample RAG application](https://github.com/IBM/gen-ai-rag-watsonx-sample-application) is deployed to [Code Engine](https://cloud.ibm.com/docs/codeengine) or [Red Hat OpenShift](https://cloud.ibm.com/docs/openshift) cluster.\n\nBy leveraging this architecture, you can accelerate your deployment and tailor it to meet your unique business needs and enterprise goals.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/stack-retrieval-augmented-generation/blob/main/README.md",
      "offering_icon_url": "https://globalcatalog.cloud.ibm.com/api/v1/1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc/artifacts/solution.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "RAG Pattern",
          "description": "Deploy a RAG pattern with supporting IBM Cloud and watsonx services, and a sample application to Code Engine or Red Hat OpenShift using Continuous Delivery."
        },
        {
          "title": "Implement Security",
          "description": "The architecture ensures security by deploying Key Protect and Secrets Manager."
        },
        {
          "title": "Achieve Regulatory Compliance",
          "description": "Ensures regulatory compliance by implementing CI/CD/CC pipelines, along with Security and Compliance Center for continuous compliance."
        },
        {
          "title": "Ensure Observability",
          "description": "Provides observability by deploying services such as Logs and Monitoring for log analysis and tracking activity."
        },
        {
          "title": "Establish Trust",
          "description": "Ensures trust by configuring the IBM Cloud account to align with compliance settings as defined in the Financial Services framework."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/stack-retrieval-augmented-generation/issues](https://github.com/terraform-ibm-modules/stack-retrieval-augmented-generation/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Basic (Deploy on Code Engine)",
          "name": "basic",
          "working_directory": "solutions/basic",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "AI Security Guardrails 2.0",
                "profile_version": "1.1.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "service_name": "iam-groups",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "atracker"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms"
            },
            {
              "service_name": "compliance",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "pm-20"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "data-science-experience"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "aiopenscale"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "conversation"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "discovery"
            },
            {
              "service_name": "databases-for-elasticsearch",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "service_name": "event-notifications",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Enables:"
              },
              {
                "title": "1. Code Engine for containerized and serverless workloads",
                "description": " "
              },
              {
                "title": "2. Elasticsearch Enterprise for building and storing dense vector indexes or keyword search indexes",
                "description": " "
              },
              {
                "title": "3. watsonx.ai in-memory vector store for RAG trial and exploration",
                "description": " "
              },
              {
                "title": "4. watsonx.ai UI to upload documents",
                "description": " "
              },
              {
                "title": "5. watsonx.ai Prompt Lab for inferencing and Prompt Templates",
                "description": " "
              },
              {
                "title": "6. watsonx Assistant Conversational Search with embedded LLM",
                "description": " "
              },
              {
                "title": "7. Build your own data processing, ingestion pipeline and indexes",
                "description": " "
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-pattern.svg",
                  "caption": "Reference architecture",
                  "type": "image/svg+xml",
                  "thumbnail_url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-pattern.svg"
                },
                "description": "Reference architecture"
              },
              {
                "diagram": {
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-stack.svg",
                  "caption": "Solution components",
                  "type": "image/svg+xml",
                  "thumbnail_url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-stack.svg"
                },
                "description": "Solution components"
              }
            ]
          },
          "dependencies": [
            {
              "name": "testing-customer-care-gen-ai-app-config-da",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "banking-ce"
              ],
              "id": "bdb533aa-fe34-4f3b-bf35-0007fee74221",
              "input_mapping": [],
              "optional": true,
              "on_by_default": true,
              "version": ">=1.3.1"
            },
            {
              "name": "Testing_Retrieval_Augmented_Generation_Pattern_dev",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "basic",
                "standard"
              ],
              "id": "8e851423-4cfc-40e7-a008-fb449d953cb9",
              "on_by_default": true,
              "input_mapping": [],
              "optional": true,
              "version": ">=1.2.12"
            },
            {
              "name": "testing-deploy-arch-ibm-scc",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "instances"
              ],
              "id": "b773b1d4-69bb-48db-a657-2307015eb9c1",
              "input_mapping": [],
              "on_by_default": true,
              "optional": true,
              "version": ">=1.0.8"
            },
            {
              "name": "deploy-arch-ibm-watsonx-assistant",
              "id": "f0eab251-febe-4ae4-99ba-04d698fb6d20",
              "version": ">=v1.1.2",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            },
            {
              "name": "deploy-arch-ibm-watson-discovery",
              "id": "0f616276-a8a4-4399-bcbf-d3129f30295e",
              "version": ">=v1.1.1",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            },
            {
              "name": "deploy-arch-ibm-watsonx-ai",
              "id": "85b7c3d8-c947-408c-896c-52b375ceb1c0",
              "version": ">=v1.1.1",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            }
          ],
          "dependency_version_2": true,
          "configuration": [
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "ibmcloud_api_key",
              "required": true
            },
            {
              "key": "signing_key",
              "display_name": "Multiline secure value",
              "required": false,
              "custom_config": {
                "type": "multiline_secure_value",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "region",
              "required": false,
              "options": [
                {
                  "displayname": "us-south",
                  "value": "us-south"
                },
                {
                  "displayname": "eu-de",
                  "value": "eu-de"
                }
              ]
            },
            {
              "key": "resource_group_name",
              "required": false
            },
            {
              "key": "use_existing_resource_group",
              "required": false
            },
            {
              "key": "watsonx_admin_api_key",
              "required": false
            },
            {
              "key": "secret_manager_service_plan",
              "required": false,
              "options": [
                {
                  "displayname": "Trial",
                  "value": "trial"
                },
                {
                  "displayname": "Standard",
                  "value": "standard"
                }
              ]
            },
            {
              "key": "existing_secrets_manager_crn",
              "required": false
            },
            {
              "key": "enable_platform_logs_metrics",
              "required": false
            },
            {
              "key": "sample_app_git_url",
              "required": false
            },
            {
              "key": "existing_kms_instance_crn",
              "required": false
            },
            {
              "key": "existing_event_notification_instance_crn",
              "required": false
            },
            {
              "key": "existing_discovery_instance_crn",
              "required": false
            },
            {
              "key": "existing_assistant_instance_crn",
              "required": false
            },
            {
              "key": "existing_governance_instance_crn",
              "required": false
            },
            {
              "key": "existing_studio_instance_crn",
              "required": false
            },
            {
              "key": "existing_machine_learning_instance_crn",
              "required": false
            },
            {
              "key": "existing_elasticsearch_instance_crn",
              "required": false
            }
          ],
          "outputs": []
        },
        {
          "label": "Standard (Deploy on Red Hat OpenShift)",
          "name": "standard",
          "working_directory": "solutions/basic",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "AI Security Guardrails 2.0",
                "profile_version": "1.1.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "service_name": "iam-groups",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator",
                "crn:v1:bluemix:public:iam-identity::::serviceRole:UserApiKeyCreator"
              ],
              "service_name": "iam-identity"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "atracker"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms"
            },
            {
              "service_name": "compliance",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "pm-20"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "data-science-experience"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "aiopenscale"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "conversation"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "discovery"
            },
            {
              "service_name": "databases-for-elasticsearch",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "service_name": "event-notifications",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "containers-kubernetes"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc"
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Enables:"
              },
              {
                "title": "1. Red Hat OpenShift cluster for microservices workloads",
                "description": " "
              },
              {
                "title": "2. Elasticsearch Platinum for building and storing sparse vectors, dense vector indexes or keyword search indexes",
                "description": " "
              },
              {
                "title": "i. watsonx.ai use of Elasticsearch ELSER2 vector index for RAG",
                "description": " "
              },
              {
                "title": "ii. watsonx Assistant Conversational Search with UI feature for uploading documents to create or use Elasticsearch ELSER2 vector index for RAG",
                "description": " "
              },
              {
                "title": "3. watsonx.ai in-memory vector store for RAG trial and exploration",
                "description": " "
              },
              {
                "title": "4. watsonx.ai UI to upload documents",
                "description": " "
              },
              {
                "title": "5. watsonx.ai Prompt Lab for inferencing and Prompt Templates",
                "description": " "
              },
              {
                "title": "6. watsonx Assistant Conversational Search with embedded LLM",
                "description": " "
              },
              {
                "title": "7. Build your own data processing, ingestion pipeline and indexes",
                "description": " "
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-pattern.svg",
                  "caption": "Reference architecture",
                  "type": "image/svg+xml",
                  "thumbnail_url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-pattern.svg"
                },
                "description": "Reference architecture"
              },
              {
                "diagram": {
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-stack.svg",
                  "caption": "Solution components",
                  "type": "image/svg+xml",
                  "thumbnail_url": "https://raw.githubusercontent.com/terraform-ibm-modules/stack-retrieval-augmented-generation/main/reference-architecture/rag-stack.svg"
                },
                "description": "Solution components"
              }
            ]
          },
          "dependencies": [
            {
              "name": "testing-customer-care-gen-ai-app-config-da",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "banking-roks"
              ],
              "id": "bdb533aa-fe34-4f3b-bf35-0007fee74221",
              "input_mapping": [],
              "optional": true,
              "version": ">=1.3.1"
            },
            {
              "name": "Testing_Retrieval_Augmented_Generation_Pattern_dev",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "basic",
                "standard"
              ],
              "id": "8e851423-4cfc-40e7-a008-fb449d953cb9",
              "input_mapping": [],
              "optional": true,
              "version": ">=1.2.12"
            },
            {
              "name": "testing-deploy-arch-ibm-scc",
              "catalog_id": "f64499c8-eb50-4985-bf91-29f9e605a433",
              "flavors": [
                "instances"
              ],
              "id": "b773b1d4-69bb-48db-a657-2307015eb9c1",
              "input_mapping": [],
              "optional": true,
              "version": ">=1.0.8"
            },
            {
              "name": "deploy-arch-ibm-watsonx-assistant",
              "id": "f0eab251-febe-4ae4-99ba-04d698fb6d20",
              "version": ">=v1.1.2",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            },
            {
              "name": "deploy-arch-ibm-watson-discovery",
              "id": "0f616276-a8a4-4399-bcbf-d3129f30295e",
              "version": ">=v1.1.1",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            },
            {
              "name": "deploy-arch-ibm-watsonx-ai",
              "id": "85b7c3d8-c947-408c-896c-52b375ceb1c0",
              "version": ">=v1.1.1",
              "flavors": [
                "standard"
              ],
              "catalog_id": "7df1e4ca-d54c-4fd0-82ce-3d13247308cd",
              "optional": true,
              "on_by_default": true,
              "input_mapping": []
            }
          ],
          "dependency_version_2": true,
          "configuration": [
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "ibmcloud_api_key",
              "required": true
            },
            {
              "key": "signing_key",
              "display_name": "Multiline secure value",
              "required": false,
              "custom_config": {
                "type": "multiline_secure_value",
                "grouping": "deployment",
                "original_grouping": "deployment"
              }
            },
            {
              "key": "region",
              "required": false,
              "options": [
                {
                  "displayname": "us-south",
                  "value": "us-south"
                },
                {
                  "displayname": "eu-de",
                  "value": "eu-de"
                }
              ]
            },
            {
              "key": "resource_group_name",
              "required": false
            },
            {
              "key": "existing_resource_group_name",
              "required": false
            },
            {
              "key": "watsonx_admin_api_key",
              "required": false
            },
            {
              "key": "secret_manager_service_plan",
              "required": false,
              "options": [
                {
                  "displayname": "Trial",
                  "value": "trial"
                },
                {
                  "displayname": "Standard",
                  "value": "standard"
                }
              ]
            },
            {
              "key": "existing_secrets_manager_crn",
              "required": false
            },
            {
              "key": "enable_platform_logs_metrics",
              "required": false
            },
            {
              "key": "sample_app_git_url",
              "required": false
            },
            {
              "key": "existing_kms_instance_crn",
              "required": false
            },
            {
              "key": "existing_event_notification_instance_crn",
              "required": false
            },
            {
              "key": "existing_discovery_instance_crn",
              "required": false
            },
            {
              "key": "existing_assistant_instance_crn",
              "required": false
            },
            {
              "key": "existing_governance_instance_crn",
              "required": false
            },
            {
              "key": "existing_studio_instance_crn",
              "required": false
            },
            {
              "key": "existing_machine_learning_instance_crn",
              "required": false
            },
            {
              "key": "existing_elasticsearch_instance_crn",
              "required": false
            }
          ],
          "outputs": []
        }
      ]
    }
  ]
}
